<!-- Find window coordinates of the field
importance: 5
In the iframe below you can see a document with the green “field”.

Use JavaScript to find window coordinates of corners pointed by with arrows.

There’s a small feature implemented in the document for convenience. A click at any place shows coordinates there.


Your code should use DOM to get window coordinates of:

Upper-left, outer corner (that’s simple).
Bottom-right, outer corner (simple too).
Upper-left, inner corner (a bit harder).
Bottom-right, inner corner (there are several ways, choose one).
The coordinates that you calculate should be the same as those returned by the mouse click.

P.S. The code should also work if the element has another size or border, not bound to any fixed values. -->

<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <!-- <link rel="stylesheet" href="index.css" /> -->
    <style>
      body {
        padding: 20px 0 0 20px;
        cursor: pointer;
      }

      #field {
        overflow: hidden;
        width: 200px;
        height: 150px;
        border-top: 10px solid black;
        border-right: 10px solid gray;
        border-bottom: 10px solid gray;
        border-left: 10px solid black;
        background-color: #00ff00;
        font: 10px/1.2 monospace;
      }

      .triangle-right {
        position: relative;
        width: 0;
        height: 0;
        border-top: 6px solid transparent;
        border-bottom: 6px solid transparent;
        border-left: 20px solid red;
        text-indent: -20px;
        font: 12px/1 monospace;
      }
    </style>
  </head>

  <body>
    Click anywhere to get window coordinates.
    <br />
    That's for testing, to check the result you get by JavaScript.
    <br />
    <div id="coords">(click coordinates show up here)</div>

    <div id="field">
      . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
      . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
      . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
      . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
      . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
      . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
      .
    </div>

    <div class="triangle-right" style="left: -20px; top: -176px">1</div>
    <div class="triangle-right" style="left: -10px; top: -178px">3</div>
    <div class="triangle-right" style="left: 190px; top: -40px">4</div>
    <div class="triangle-right" style="left: 200px; top: -42px">2</div>

    <script>
      let coords = field.getBoundingClientRect();
      console.log(coords);

      let answer1 = [coords.left, coords.top];
      let answer2 = [coords.right, coords.bottom];
      console.log(answer1); //[28,82]
      console.log(answer2); //[248,252]

      let answer3 = [
        coords.left + field.clientLeft,
        coords.top + field.clientTop,
      ];
      console.log(field.clientLeft);
      console.log(field.clientTop);
      console.log(answer3); //[38,92]

      let answer4 = [
        coords.right - parseInt(getComputedStyle(field).borderRightWidth),
        coords.bottom - parseInt(getComputedStyle(field).borderBottomWidth),
      ];

      let innerBottom = getComputedStyle(field).borderRightWidth;
      console.log(innerBottom); //'10px'
      console.log(typeof innerBottom); //string

      console.log(parseInt(innerBottom)); //10
      console.log(typeof parseInt(innerBottom)); //number

      console.log(answer4); //[238,242]

      document.onclick = function (e) {
        // shows click coordinates
        console.log((coords.innerHTML = e.clientX + ':' + e.clientY));
      };
    </script>
  </body>
</html>
